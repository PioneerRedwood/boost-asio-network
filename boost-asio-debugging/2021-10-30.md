# 2021-10-30 디버깅 일지

 [스택오버플로우에 비슷한 질문](https://stackoverflow.com/questions/55676585/async-sending-and-receiving-custom-data-packets-with-boost) 해당 질문에서 등록된 답변을 찾아보니 원하던 것은 아니었다. 

패킷을 처리하는 것을 시작하기 전에 소켓을 사용하는 네트워크가 어떻게 동작하는지 생각하게 됐다. 과연 어떤 데이터들을 송수신하며 처리를 하느냐를 정의하는 것을 짚고 넘어가야 한다.

메시지 방향은 두가지가 있다. 서버에서 클라이언트로, 클라이언트에서 서버로. 서버에서는 접속한 클라이언트의 정보를 갖고 있고 최대한 동시에 접속해있는 클라이언트들의 데이터 무결성을 보장해야 한다. 서버에 어떤 것이 메모리에 있어야 하는지 어떤 것이 동기화돼야 하는지 등을 정의해야 한다. 클라이언트에서도 서버에 전송할 데이터가 무엇인지 알아야한다. 월드에서의 위치, 스킬 사용 여부 등의 게임 플레이와 관련된 데이터를 포함해서 말이다. 

여기까지는 이해했다. 이렇게만 봐선 소켓으로 읽고 쓰면 되는 거 아닐까라는게 내 생각이었다. 다른 예시들을 살펴본 결과 동기화할 오브젝트를 지정하고 네트워크 아이디를 부여하는 등의 과정을 볼 수 있었다. 네트워크 오브젝트는 입출력 스트림을 네트워크 관리자로부터 받아서(소켓 래퍼 스트림으로 추정) 송수신해야하는 데이터가 생기면 보내는 방식인 것 같다. 



- 2인 모이면 게임 입장하기
  - TCP, UDP 둘다 테스트할 예정
  - 테스트는 간단한 오목, BrawlMasters로 해도 될듯
  - 서버 동기화; 플레이어 위치(벡터) 통신 등

