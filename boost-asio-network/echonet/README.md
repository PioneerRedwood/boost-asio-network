# echonet

### 2021-08-27 #1

- echonet 이라는 간단하게 서버와 클라이언트 간 에코 날리는 시스템 제작
  - 아직 미완성
- 필요 및 추가 개선 사항
  - asio 내에서 사용하는 비동기 함수들의 콜백 사용 익숙해질 필요가 있음
  - 서버와 클라이언트의 데이터 전송을 감추는 connection 데이터 전송 래퍼 클래스 설계 중
    - 기존에 많이 참고했던 [javidx9의 네트워크 프레임워크](https://github.com/OneLoneCoder/olcPixelGameEngine/blob/master/Videos/Networking/Parts1%262/net_connection.h) 살펴보는 중

### 2021-08-28 #2

- 서버와 클라이언트 간 에코 주고 받는 시스템을 만드려고 했는데 javidx9의 네트워크 프레임워크에서 살폈던 설계를 참고하며 구현하는 게 어려움
- 클라이언트에서 입력 받아 서버에 바로 보내면 되고 서버는 받으면 다시 날려주는 식으로 하면 됨

### 2021-08-29 #3

- **std::scoped_lock** C++17
  - 스레드 안전 자료구조를 구현하기 위해서 (스레드 간 자원 공유시 발생할 수 있는 데드락(deadlock), 상호배제(mutex)을 해결 하기 위한 C++17 안전 기법) 프로젝트 속성에서 C++ 언어 표준을 C++17로 명시해둬야 함
  - 기본 프로젝트 생성시 프로젝트의 C++ 언어 표준이 C++14이었으므로 네임스페이스 std 안에 있는 thread, mutex, optional 등과 같은 헤더파일의 경로를 찾지 못하는 경우가 발생할 수 있으니 확인할 것

### 2021-08-30 #4

- [popcorntree님의 블로그](https://popcorntree.tistory.com/159)를 참고해서 다른 방식으로 구현 중
- 클라이언트에서 서버로 주기적으로 고정 데이터를 전송하는 것은 문제가 되지 않지만 문제는 일정 주기가 아닌 전송하는 타이밍과 전송할 데이터를 직접 컨트롤하는 과정을 구현하는 것이 어려운 부분
  - 내가 이해한 프로세스🤔
    - boost::asio::io_context가 스레드로 동작 중
    - 스레드 내부 클라이언트(혹은 서버)에서 보낼 데이터가 있으면 동기/비동기 쓰기/읽기 동작 수행
    - 보낼 데이터는 클라이언트 혹은 서버의 멤버 변수 자료구조에 담김
    - 동기 vs 비동기 (sync vs async)
      - 동기; 네트워크 동작하는 동안에 다른 동작을 수행하지 않음
      - 비동기; 네트워크 동작하는 동안에 다른 동작을 수행할 수 있으며 네트워크 동작이 끝나면 콜백 함수 실행

### 2021-08-31 #5

- 여전히 서버와 클라이언트 프로세스 진행 중 C++ 기초가 부족함을 느끼고 있지만 계속 해서 구현 중
  - 샘플 코드를 따라 쓰면서 구현한 것들을 자신만의 스타일대로 묶는 것 뿐인데 대체 왜 오류 투성이에 깔끔하지 않은 코드가 돼가는 걸까? 🤢 
  - When will I start "Google protobuf"??
  - 아무래도 책이 필요하다 무려 [테크니컬 참고 도서](https://github.com/devharsh/Technical-eBooks/blob/master/Boost.Asio%20C%2B%2B%20Network%20Programming.pdf)가 pdf로 😎
- **이때 이후로 도메인을 변경한다. echonet -> BoostAsioStudy(BAS) - 2021-09-16 추가**



### 2021-10-07 #6

- 디렉토리 위치 변경